// Generated by BUCKLESCRIPT VERSION 4.0.14, PLEASE EDIT WITH CARE
'use strict';

var Belt_MapString = require("bs-platform/lib/js/belt_MapString.js");
var Belt_SetString = require("bs-platform/lib/js/belt_SetString.js");
var Definition$ReactTemplate = require("../Definition.bs.js");

function getAffectedNodes(nodeIDs, nodes) {
  return Belt_SetString.reduce(nodeIDs, nodeIDs, (function (acc, nodeID) {
                if (Definition$ReactTemplate.isFunctionDefinitionNode(Belt_MapString.getExn(nodes, nodeID))) {
                  var children = Belt_SetString.fromArray(Belt_MapString.keysToArray(Belt_MapString.keep(nodes, (function (_nodeID, node) {
                                  var match = node[/* scope */0];
                                  if (match) {
                                    return match[0] === nodeID;
                                  } else {
                                    return false;
                                  }
                                }))));
                  return Belt_SetString.union(acc, getAffectedNodes(children, nodes));
                } else {
                  return acc;
                }
              }));
}

function connectionSideInvolvesNodeIDs(connectionSide, nodeIDs) {
  var match = connectionSide[/* node */0];
  if (match) {
    return Belt_SetString.has(nodeIDs, match[0]);
  } else {
    return false;
  }
}

exports.getAffectedNodes = getAffectedNodes;
exports.connectionSideInvolvesNodeIDs = connectionSideInvolvesNodeIDs;
/* Definition-ReactTemplate Not a pure module */
